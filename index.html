
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Connect3 • Gestão de Projetos Sociais</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body data-color-scheme="light">
  <!-- Skip link for accessibility -->
  <a class="skip-link" href="#main">Pular para o conteúdo</a>

  <!-- Top Header aligned with landing page style -->
  <header class="topbar">
    <div class="container topbar__inner">
      <a href="#" class="brand">
        <span class="brand__logo">NCS</span>
        <span class="brand__name">Connect3</span>
      </a>
      <nav class="topnav" aria-label="Navegação principal">
        <button class="topnav__link is-active" data-module="dashboard">
          <i class="fa-solid fa-chart-line"></i><span>Dashboard</span>
        </button>
        <button class="topnav__link" data-module="projetos">
          <i class="fa-solid fa-diagram-project"></i><span>Projetos</span>
        </button>
        <button class="topnav__link" data-module="parcerias">
          <i class="fa-solid fa-handshake-angle"></i><span>Parcerias</span>
        </button>
        <button class="topnav__link" data-module="orcamento">
          <i class="fa-solid fa-wallet"></i><span>Orçamento</span>
        </button>
        <button class="topnav__link" data-module="beneficiarios">
          <i class="fa-solid fa-people-group"></i><span>Beneficiários</span>
        </button>
        <button class="topnav__link" data-module="indicadores">
          <i class="fa-solid fa-gauge-high"></i><span>Indicadores</span>
        </button>
        <button class="topnav__link" data-module="prestacao">
          <i class="fa-solid fa-file-invoice"></i><span>Prestação</span>
        </button>
      </nav>
      <div class="topbar__actions">
        <button class="btn btn--outline btn--sm" id="btnTheme" aria-label="Alternar tema">
          <i class="fa-solid fa-sun"></i>
        </button>
        <button class="btn btn--outline btn--sm" id="btnSettings" aria-label="Configurações">
          <i class="fa-solid fa-gear"></i>
        </button>
      </div>
    </div>
  </header>

  <main id="main" class="container site-main">
    <!-- Dashboard -->
    <section id="dashboard-module" class="module is-active" aria-labelledby="dashTitle">
      <header class="module-header">
        <div>
          <h1 id="dashTitle">Dashboard</h1>
          <p>Visão geral da sua organização</p>
        </div>
        <div class="module-actions">
          <button class="btn btn--secondary" id="btnSalvarEstado"><i class="fa-solid fa-floppy-disk"></i>&nbsp;Salvar</button>
          <input type="file" id="importJson" accept="application/json" class="sr-only">
          <button class="btn btn--outline" id="btnImportar"><i class="fa-solid fa-file-import"></i>&nbsp;Importar</button>
        </div>
      </header>

      <div class="kpis">
        <div class="kpi">
          <div class="kpi__icon"><i class="fa-solid fa-diagram-project"></i></div>
          <div class="kpi__text">
            <h3 id="totalProjetos">0</h3>
            <p>Projetos Ativos</p>
          </div>
        </div>
        <div class="kpi">
          <div class="kpi__icon"><i class="fa-solid fa-sack-dollar"></i></div>
          <div class="kpi__text">
            <h3 id="orcamentoTotal">R$ 0</h3>
            <p>Orçamento Total</p>
          </div>
        </div>
        <div class="kpi">
          <div class="kpi__icon"><i class="fa-solid fa-users"></i></div>
          <div class="kpi__text">
            <h3 id="beneficiariosTotal">0</h3>
            <p>Beneficiários</p>
          </div>
        </div>
        <div class="kpi">
          <div class="kpi__icon"><i class="fa-solid fa-percent"></i></div>
          <div class="kpi__text">
            <h3 id="progressoMedio">0%</h3>
            <p>Progresso Médio</p>
          </div>
        </div>
      </div>

      <div class="grid-2">
        <div class="card chart-card">
          <h3>Execução Orçamentária por Projeto</h3>
          <canvas id="orcamentoChart" height="260"></canvas>
        </div>
        <div class="card chart-card">
          <h3>Beneficiários por Projeto</h3>
          <canvas id="beneficiariosChart" height="260"></canvas>
        </div>
      </div>

      <div class="card activities-card">
        <h3>Próximas Atividades</h3>
        <div id="proximas-atividades" class="activities-list"></div>
      </div>
    </section>

    <!-- Projetos -->
    <section id="projetos-module" class="module" aria-labelledby="projTitle">
      <header class="module-header">
        <div>
          <h1 id="projTitle">Gestão de Projetos</h1>
          <p>Cadastre, filtre e acompanhe seus projetos.</p>
        </div>
        <div class="module-actions">
          <button class="btn btn--outline" id="btnExportarCsv"><i class="fa-solid fa-file-csv"></i>&nbsp;Exportar CSV</button>
          <button class="btn btn--primary" id="btnNovoProjeto"><i class="fa-solid fa-plus"></i>&nbsp;Novo Projeto</button>
        </div>
      </header>

      <div class="toolbar">
        <div class="toolbar__filters">
          <label class="sr-only" for="buscaProjeto">Busca</label>
          <div class="input-icon">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input id="buscaProjeto" class="form-control" placeholder="Buscar por nome…" />
          </div>
          <select id="filtroStatus" class="form-control">
            <option value="">Status: Todos</option>
            <option>Planejamento</option>
            <option>Em Andamento</option>
            <option>Concluído</option>
            <option>Cancelado</option>
          </select>
          <select id="filtroTipo" class="form-control">
            <option value="">Tipo: Todos</option>
            <option value="colaboracao">Termo de Colaboração</option>
            <option value="fomento">Termo de Fomento</option>
            <option value="cooperacao">Acordo de Cooperação</option>
          </select>
          <select id="ordenacao" class="form-control">
            <option value="nome-asc">Ordenar: Nome (A‑Z)</option>
            <option value="nome-desc">Nome (Z‑A)</option>
            <option value="orcamento-desc">Maior orçamento</option>
            <option value="progresso-desc">Maior progresso</option>
          </select>
        </div>
        <div class="toolbar__view">
          <button class="tab-btn is-active" data-view="grid"><i class="fa-solid fa-table-cells-large"></i> Grid</button>
          <button class="tab-btn" data-view="kanban"><i class="fa-solid fa-table-columns"></i> Kanban</button>
        </div>
      </div>

      <div id="viewGrid" class="projects-grid"></div>

      <!-- Kanban -->
      <div id="viewKanban" class="kanban hidden">
        <div class="kanban__column" data-status="Planejamento">
          <header>Planejamento</header>
          <div class="kanban__list" id="col-planejamento"></div>
        </div>
        <div class="kanban__column" data-status="Em Andamento">
          <header>Em Andamento</header>
          <div class="kanban__list" id="col-em-andamento"></div>
        </div>
        <div class="kanban__column" data-status="Concluído">
          <header>Concluído</header>
          <div class="kanban__list" id="col-concluido"></div>
        </div>
        <div class="kanban__column" data-status="Cancelado">
          <header>Cancelado</header>
          <div class="kanban__list" id="col-cancelado"></div>
        </div>
      </div>
    </section>

    <!-- Parcerias -->
    <section id="parcerias-module" class="module" aria-labelledby="parcTitle">
      <header class="module-header">
        <div>
          <h1 id="parcTitle">Parcerias MROSC</h1>
          <p>Registre termos e acompanhe a situação.</p>
        </div>
        <div class="module-actions">
          <button class="btn btn--primary" id="btnNovaParceria"><i class="fa-solid fa-plus"></i>&nbsp;Nova Parceria</button>
        </div>
      </header>

      <div class="parcerias-info">
        <article class="info-card">
          <h3>Termo de Colaboração</h3>
          <p>Parceria com transferência de recursos onde a iniciativa é do poder público.</p>
        </article>
        <article class="info-card">
          <h3>Termo de Fomento</h3>
          <p>Parceria com transferência de recursos onde a iniciativa é da OSC.</p>
        </article>
        <article class="info-card">
          <h3>Acordo de Cooperação</h3>
          <p>Parceria sem transferência de recursos financeiros.</p>
        </article>
      </div>

      <div id="parceriasList" class="parcerias-list"></div>
    </section>

    <!-- Orçamento -->
    <section id="orcamento-module" class="module" aria-labelledby="orcTitle">
      <header class="module-header">
        <div>
          <h1 id="orcTitle">Orçamento e Financeiro</h1>
        </div>
      </header>
      <div class="grid-2">
        <div class="card chart-card">
          <h3>Distribuição Orçamentária por Categoria</h3>
          <canvas id="budgetChart" height="320"></canvas>
        </div>
        <div class="budget-table card">
          <h3>Detalhamento por Categoria</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Categoria</th>
                <th>Orçado</th>
                <th>Executado</th>
                <th>Percentual</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="budgetTableBody"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Beneficiários -->
    <section id="beneficiarios-module" class="module" aria-labelledby="benefTitle">
      <header class="module-header">
        <div>
          <h1 id="benefTitle">Beneficiários</h1>
        </div>
        <div class="module-actions">
          <button class="btn btn--primary" id="btnNovoBeneficiario"><i class="fa-solid fa-user-plus"></i>&nbsp;Novo Beneficiário</button>
        </div>
      </header>

      <div class="beneficiarios-stats">
        <div class="stat-card">
          <h3 id="totalBeneficiarios">0</h3>
          <p>Total de Beneficiários</p>
        </div>
        <div class="stat-card">
          <h3 id="atendimentosMes">0</h3>
          <p>Atendimentos este Mês</p>
        </div>
        <div class="stat-card">
          <h3 id="novosBeneficiarios">0</h3>
          <p>Novos Beneficiários</p>
        </div>
      </div>

      <div class="card beneficiarios-list">
        <div class="list-toolbar">
          <div class="input-icon">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input id="buscaBenef" class="form-control" placeholder="Buscar beneficiário…" />
          </div>
        </div>
        <table class="table">
          <thead>
            <tr>
              <th>Nome</th>
              <th>CPF</th>
              <th>Projeto</th>
              <th>Data Cadastro</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="beneficiariosTableBody"></tbody>
        </table>
        <div class="pagination" id="benefPagination"></div>
      </div>
    </section>

    <!-- Indicadores -->
    <section id="indicadores-module" class="module" aria-labelledby="indTitle">
      <header class="module-header">
        <div>
          <h1 id="indTitle">Indicadores e Monitoramento</h1>
        </div>
      </header>
      <div id="indicatorsGrid" class="indicators-grid"></div>
    </section>

    <!-- Prestação de Contas -->
    <section id="prestacao-module" class="module" aria-labelledby="prestTitle">
      <header class="module-header">
        <div>
          <h1 id="prestTitle">Prestação de Contas</h1>
        </div>
        <div class="module-actions">
          <button class="btn btn--primary" id="btnGerarRelatorio"><i class="fa-solid fa-download"></i>&nbsp;Gerar Relatório</button>
        </div>
      </header>
      <div class="card reports-timeline">
        <h3>Cronograma de Prestações</h3>
        <div id="reportsTimeline" class="timeline"></div>
      </div>
    </section>
  </main>

  <!-- Modals -->
  <dialog id="novoProjetoModal" class="modal">
    <form id="novoProjetoForm" method="dialog" class="modal__content">
      <header><h3>Novo Projeto</h3></header>
      <div class="form-grid">
        <label class="form-label">Nome do Projeto
          <input type="text" class="form-control" required />
        </label>
        <label class="form-label">Tipo de Parceria
          <select class="form-control" required>
            <option value="">Selecione…</option>
            <option value="colaboracao">Termo de Colaboração</option>
            <option value="fomento">Termo de Fomento</option>
            <option value="cooperacao">Acordo de Cooperação</option>
          </select>
        </label>
        <label class="form-label">Orçamento Total
          <input type="number" min="0" step="0.01" class="form-control" required />
        </label>
        <label class="form-label">Meta de Beneficiários
          <input type="number" min="0" step="1" class="form-control" required />
        </label>
      </div>
      <menu class="modal__actions">
        <button type="reset" class="btn btn--outline" value="cancel">Cancelar</button>
        <button type="submit" class="btn btn--primary">Criar Projeto</button>
      </menu>
    </form>
  </dialog>

  <dialog id="editProjetoModal" class="modal">
    <form id="editProjetoForm" method="dialog" class="modal__content" data-id="">
      <header><h3>Editar Projeto</h3></header>
      <div class="form-grid">
        <label class="form-label">Nome do Projeto
          <input type="text" class="form-control" id="editNomeProjeto" required />
        </label>
        <label class="form-label">Tipo de Parceria
          <select class="form-control" id="editTipoParceria" required>
            <option value="colaboracao">Termo de Colaboração</option>
            <option value="fomento">Termo de Fomento</option>
            <option value="cooperacao">Acordo de Cooperação</option>
          </select>
        </label>
        <label class="form-label">Status
          <select class="form-control" id="editStatus">
            <option>Planejamento</option>
            <option>Em Andamento</option>
            <option>Concluído</option>
            <option>Cancelado</option>
          </select>
        </label>
        <label class="form-label">Orçamento Total
          <input type="number" min="0" step="0.01" class="form-control" id="editOrcTotal" required />
        </label>
        <label class="form-label">Orçamento Executado
          <input type="number" min="0" step="0.01" class="form-control" id="editOrcExec" required />
        </label>
        <label class="form-label">Meta de Beneficiários
          <input type="number" min="0" step="1" class="form-control" id="editMetaBenef" required />
        </label>
        <label class="form-label">Beneficiários Atuais
          <input type="number" min="0" step="1" class="form-control" id="editAtualBenef" required />
        </label>
      </div>
      <menu class="modal__actions">
        <button type="reset" class="btn btn--outline" value="cancel">Cancelar</button>
        <button type="submit" class="btn btn--primary">Salvar</button>
      </menu>
    </form>
  </dialog>

  <dialog id="viewProjetoModal" class="modal">
    <div class="modal__content">
      <header class="modal__header">
        <h3 id="viewProjetoTitulo">Projeto</h3>
      </header>
      <div id="viewProjetoBody"></div>
      <menu class="modal__actions">
        <button class="btn btn--outline" onclick="document.getElementById('viewProjetoModal').close()">Fechar</button>
      </menu>
    </div>
  </dialog>

  <dialog id="novaParceriaModal" class="modal">
    <form id="novaParceriaForm" method="dialog" class="modal__content">
      <header><h3>Nova Parceria MROSC</h3></header>
      <div class="form-grid">
        <label class="form-label">Órgão Parceiro
          <input type="text" class="form-control" required />
        </label>
        <label class="form-label">Tipo de Parceria
          <select class="form-control" required>
            <option value="colaboracao">Termo de Colaboração</option>
            <option value="fomento">Termo de Fomento</option>
            <option value="cooperacao">Acordo de Cooperação</option>
          </select>
        </label>
        <label class="form-label">Objeto da Parceria
          <textarea class="form-control" rows="3" required></textarea>
        </label>
      </div>
      <menu class="modal__actions">
        <button type="reset" class="btn btn--outline" value="cancel">Cancelar</button>
        <button type="submit" class="btn btn--primary">Criar Parceria</button>
      </menu>
    </form>
  </dialog>

  <dialog id="novoBeneficiarioModal" class="modal">
    <form id="novoBeneficiarioForm" method="dialog" class="modal__content">
      <header><h3>Novo Beneficiário</h3></header>
      <div class="form-grid">
        <label class="form-label">Nome Completo
          <input type="text" class="form-control" required />
        </label>
        <label class="form-label">CPF
          <input type="text" class="form-control" placeholder="000.000.000-00" required />
        </label>
        <label class="form-label">Projeto Vinculado
          <select class="form-control" required></select>
        </label>
      </div>
      <menu class="modal__actions">
        <button type="reset" class="btn btn--outline" value="cancel">Cancelar</button>
        <button type="submit" class="btn btn--primary">Cadastrar</button>
      </menu>
    </form>
  </dialog>

  <dialog id="editBeneficiarioModal" class="modal">
    <form id="editBeneficiarioForm" method="dialog" class="modal__content" data-id="">
      <header><h3>Editar Beneficiário</h3></header>
      <div class="form-grid">
        <label class="form-label">Nome Completo
          <input type="text" class="form-control" id="editNomeBenef" required />
        </label>
        <label class="form-label">CPF
          <input type="text" class="form-control" id="editCpfBenef" required />
        </label>
        <label class="form-label">Projeto Vinculado
          <select class="form-control" id="editProjetoBenef"></select>
        </label>
      </div>
      <menu class="modal__actions">
        <button type="reset" class="btn btn--outline" value="cancel">Cancelar</button>
        <button type="submit" class="btn btn--primary">Salvar</button>
      </menu>
    </form>
  </dialog>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="app.js"></script>
</body>
</html>
